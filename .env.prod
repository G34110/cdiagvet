# =============================================================================
# .env.prod - Variables d'environnement PRODUCTION
# ⚠️  NE JAMAIS COMMITER CE FICHIER AVEC LES VRAIES VALEURS
# Copier vers .env et adapter les valeurs selon l'infrastructure
# =============================================================================

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
NODE_ENV=production
APP_ENV=production

# -----------------------------------------------------------------------------
# Database PostgreSQL (instance PROD dédiée - managed recommandé)
# -----------------------------------------------------------------------------
POSTGRES_USER=cdiagvet_prod
POSTGRES_PASSWORD=2575069d7e18f892ac4e15a13ce05e4e16cbdb4ec4af323052311c33f2e4bd9f
POSTGRES_DB=cdiagvet_prod

# URL via PgBouncer
DATABASE_URL=postgresql://cdiagvet_prod:CHANGE_ME@pgbouncer-prod:5432/cdiagvet_prod

# URL directe (pour migrations Prisma)
DIRECT_DATABASE_URL=postgresql://cdiagvet_prod:CHANGE_ME@postgres-prod:5432/cdiagvet_prod

# -----------------------------------------------------------------------------
# Redis (instance PROD dédiée - managed recommandé)
# -----------------------------------------------------------------------------
REDIS_PASSWORD=17c6af8785d1ae0a37532819deb7114d1c844e00b0df9a5aef4308d60fe15da3
REDIS_URL=redis://:CHANGE_ME@redis-prod:6379

# -----------------------------------------------------------------------------
# JWT Authentication
# Générer avec: node -e "console.log(require('crypto').randomBytes(64).toString('base64'))"
# -----------------------------------------------------------------------------
JWT_SECRET=TaKibkJJZ2hejCCBRNBVr7J6S89/AxmgWyEqBxvvvk0NOHQraod+r1fz90ZdmOfru8vc0t3fh8ic4aNLN7aeig==
JWT_EXPIRES_IN=14d

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------
SERVER_PORT=3000
LOG_LEVEL=warn

# -----------------------------------------------------------------------------
# Frontend
# -----------------------------------------------------------------------------
VITE_API_URL=https://api.cdiagvet.fr/graphql
VITE_APP_ENV=production

# -----------------------------------------------------------------------------
# Ports exposés
# -----------------------------------------------------------------------------
HTTP_PORT=80
HTTPS_PORT=443

# -----------------------------------------------------------------------------
# CORS
# -----------------------------------------------------------------------------
CORS_ORIGIN=https://app.cdiagvet.fr

# -----------------------------------------------------------------------------
# Production security
# -----------------------------------------------------------------------------
ENABLE_GRAPHQL_PLAYGROUND=false
ENABLE_DEBUG_LOGGING=false
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX=60

# -----------------------------------------------------------------------------
# Optionnel: Email (SendGrid)
# -----------------------------------------------------------------------------
# SENDGRID_API_KEY=SG.xxxxx
# SENDGRID_FROM_EMAIL=noreply@cdiagvet.fr

# -----------------------------------------------------------------------------
# Optionnel: Stockage S3 (Scaleway/AWS)
# -----------------------------------------------------------------------------
# S3_ENDPOINT=https://s3.fr-par.scw.cloud
# S3_BUCKET=cdiagvet-prod-uploads
# S3_ACCESS_KEY=xxxxx
# S3_SECRET_KEY=xxxxx
# S3_REGION=fr-par

# -----------------------------------------------------------------------------
# Optionnel: Monitoring
# -----------------------------------------------------------------------------
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# -----------------------------------------------------------------------------
# Optionnel: Backups
# -----------------------------------------------------------------------------
# BACKUP_S3_BUCKET=cdiagvet-backups
# BACKUP_RETENTION_DAYS=30
